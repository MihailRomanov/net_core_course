# Задание "Сервисы на ASP.Net Core"

## Общее

В данной работе мы напишем маленькое подмножество сервисов бэка для базы Northwind

При работе с базой Northwind будем исходить из того, что:
- Заказ может находится в следующих состояниях (статусах):
    - **Новый** (не отправленный), если его поле `OrderDate == NULL`
    - **В работе** (не выполненный), если поле `ShippedDate == NULL`
    - **Выполненный**, если `ShippedDate != NULL`

## О самом задании
Наше гипотетическое приложение – это рабочее место оператора, однако никакого UI мы создавать не будем, а для выполнения работы требуется:
- Создать набор сервисов на базе **Minimal API** или **Cotroller-based** подхода - на ваше усмотрение
- Создать набор тестов, демонстрирующих работу с сервисами, т.е. полное покрытие не требуется, но явно перечисленные в задании пункты нужно продемонстировать.

### Задание 1. Базовый API 
Добавьте сервис(ы) который позволяют:
1. Показывать список введенных заказов (таблица **[Orders]**). Помимо основных полей должны возвращаться:
   - Статус заказа в виде Enum поля
2. Показывать подробные сведения о конкретном заказе, включая номенклатуру заказа (таблицы **[Orders]**, **[Order Details]**, и **[Products]**)
3. Создавать новые заказы
4. Менять существующие заказы. При этом:
   - Напрямую нельзя менять следующие поля
      - Даты *OrderDate* и *ShippedDate*
      - Статус заказа
   - В заказе со статусом **Новый** можно менять любые поля и состав заказа, за исключением полей, перечисленных в пункте *"Напрямую нельзя менять ..."* (выше).
   - В заказе со статусами **В работе** и **Выполненный** нельзя менять ничего
5. Удалять заказы, но только со статусами **Новый** или **В работе**
6. Менять статус заказа. Для реализации этого пункта предлагается сделать специальные методы (именование выбирайте сами):
   - Передать в работу: устанавливает дату заказа
   - Пометить как выполненный: устанавливает *ShippedDate*

### Задание 2. Работа с блобами
1.	Добавьте сервис работы с категориями, но в нем реализуйте только чтение и запись изображений категорий. 

### Задание 3. Работа с ошибками
Добавьте генерацию ошибок для следующих ситуаций (коды ошибок, а также, возможно, дополнительную информацию, например, сообщение об ошибке, подберите самостоятельно):
1.	Запрошенной по ID сущности нет (там, где обращение идет по конкретному ID – например, при редактировании)
2. Попытка изменения заказа в статусе **В работе** или **Выполнен**
3. Попытка удаления выполненного заказа
4. Попытка запустить в работу заказа у которого требуемая дата выполнения меньше текущей (т.е. срок выполнения уже прошел)
5.	Попытка поменять статус заказу, кроме следующих 2-х разрешенных случаев (напомню, что статус меняется специальными методами):
    - **Новый** на **В работе**
    - **В работе** на **Выполненный**

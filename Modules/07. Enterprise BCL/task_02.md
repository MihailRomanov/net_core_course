# Задание "Валидация, логи и метрики"

*Задания, помеченные (\*) - не обязательные, но очень рекомендуемые*

## Задание 1. Валидация и локализация
Переведите валидацию в вашей библиотеке каталогизации (и, соответственно, использующих её приложениях) на работу с любой сторонней библиотекой валидации (можно взять одну из описанных в лекции, можно - свой вариант).

Обязательное требование: все сообщения от валидатора должны быть локализованы минимум на 2 языка: русский и английский (по желанию можете добавить еще один свой)

Добавьте тесты, которые бы не только проверяли валидацию, но и хотябы частично - что работает локализация.

Переключение локали можно оставить общесистемное - через указание `CurrentUICulture`.


## Задание 2. Логи и метрики
В сервис из [Задачи 1](task_01.md) добавьте ведение логов и метрик.

### Требования к логам
- Работаем через Microsoft.Extensions.Logging + сторонние провайдеры
- Должны быть представлены логи как минимум 3 категорий: ошибки, информационны и отладочные
    - Если точки логирования будут немного искусственными - не страшно
- Используйте струтурированные логи и сгенерированные методы-хэлперы для записи таких логов
    - Продумайте, какие параметры имеет смысл зафиксировать в логах
- По провайдерам
    - Помимо стандартных провадеров добавьте запись во внешний файл
        - Какой формат файла (обычный плоский, или что-то сложнее) использовать - выберите сами
        - Провайдер также на свое усмотрение (любой сторонний)

### Требования к метрикам
- Для работы с метриками используем System.Diagnostics.Metrics
- Состав метрик на ваше усмотрение. Минимальный набор:
    - Количество обработанных с момента запуска файлов
    - Среднее время обработки одного файла
- Код работы с метриками оформляем в отдельном классе, пригодном для работы с DI
- Для демонстрации работы метрик приложите скриншот для `dotnet counters`
- (\*) Настройте сбор метрик во внешнем приложении, например, как описанный в лекции вариант Grafana + Prometheus. Дополнительные сведения и ссылки можно найти в [статье](https://learn.microsoft.com/en-us/dotnet/core/diagnostics/metrics-collection#view-metrics-in-grafana-with-opentelemetry-and-prometheus)
- (\*) Настройте собственный сбор метрик (например, во внешний файл) через MeterListener 